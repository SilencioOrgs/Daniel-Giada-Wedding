"use client";

import { useEffect, useState } from "react";
import { motion, useSpring, useMotionValue } from "framer-motion";

export function TrailingButterfly() {
    const [scrollY, setScrollY] = useState(0);

    useEffect(() => {
        const handleScroll = () => {
            setScrollY(window.scrollY);
        };

        window.addEventListener("scroll", handleScroll);
        return () => window.removeEventListener("scroll", handleScroll);
    }, []);

    return (
        <div className="fixed z-[60] pointer-events-none hidden md:block" style={{ top: '25%', right: '10%' }}>
            <motion.div
                animate={{
                    y: [0, 25, 0],
                    x: [0, 10, 0],
                    rotate: [-5, 5, -5]
                }}
                transition={{
                    duration: 6,
                    ease: "easeInOut",
                    repeat: Infinity,
                    repeatType: "mirror"
                }}
                className="w-24 h-24 text-wedding-red/40 drop-shadow-md"
            >
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M22.56,9.58c-1.35-0.95-3.08-1.54-5.02-1.63c0.16-1.55,0.06-2.58-0.34-3.11c-0.42-0.56-1.16-0.85-2.2-0.85c-2.31,0-4.06,1.44-5.22,4.32C9.4,8.19,9.08,8.22,8.96,8.23c-0.86,0.06-1.65,0.22-2.37,0.47C5.39,8.29,4.28,7.99,3.37,7.99C1.94,7.99,0.5,8.81,0.5,10.63c0,0.85,0.73,1.6,1.96,2.02c0.2,1.38,1.23,2.78,2.79,3.8c1.32,0.86,2.26,2.24,2.26,2.24s-0.07-2.67-2.53-3.04c-0.24-0.04-0.47-0.08-0.69-0.12c-0.9-0.16-1.5-0.94-1.5-1.95c0-0.45,0.37-0.82,0.82-0.82c0.41,0,0.76,0.31,0.81,0.71l0.02,0.18c0.04,0.3,0.31,0.51,0.61,0.48c0.06-0.01,0.13-0.02,0.19-0.03c1.37-0.2,2.37-1.34,2.37-2.71c0-0.98,0.79-1.78,1.78-1.78c0.88,0,1.61,0.64,1.75,1.49c0.19,1.13,1.3,1.88,2.44,1.69c0.55-0.09,1.06-0.34,1.47-0.71c0.06,0.36,0.1,0.72,0.1,1.09c0,2.37-1.39,4.42-3.41,5.27c-0.78,0.33-1.35,1.04-1.48,1.87c-0.13,0.83,0.21,1.67,0.9,2.18c0.88,0.65,1.95,1.01,3.05,1.01c2.14,0,4.21-1.33,5.55-3.56c0.51-0.85,0.84-2.03,0.94-3.45c1.31,0.78,2.35,2.16,2.71,3.77c0.19,0.84-0.03,1.72-0.6,2.35c-0.57,0.63-1.42,0.92-2.26,0.77l-0.16-0.03c-0.44-0.08-0.86,0.22-0.94,0.66c-0.08,0.44,0.22,0.86,0.66,0.94l0.16,0.03c1.69,0.3,3.39-0.28,4.52-1.54c1.13-1.26,1.57-3.02,1.2-4.7c-0.49-2.22-2.09-4.13-4.18-5.11C22.69,12.78,23.11,11.23,22.56,9.58z" />
                </svg>
            </motion.div>
        </div>
    );
}
